# Mode デプロイ用の設定

Mode へデプロイする際に必要な設定の方法です。

## 事前準備

enebular MODE deployの内容を把握しておきましょう。

![image.png (18.1 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/21e3135d-2b30-42cf-9c88-8a946001dc3a.png)

「Export to Other Services」でDeployの設定に行きます。

![image.png (18.8 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/98537b7c-7477-4173-b9a8-3e3105937423.png)

Modeを選択します。

![image.png (40.7 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/d08906b0-39ae-45ef-b489-f1d1af77a516.png)

Createを押します。

* Connection Name
* MODE Project ID
* MODE Project API Key
* MODE Home ID

Connection Nameは自由な名前をつけて良いです。MODE Project ID・MODE Project API Key・MODE Home IDの3つの設定をMODE作成して帰ってきましょう。

* Connection Name
    * 自由な名前
* MODE Project ID
    * （設定待ち）
* MODE Project API Key
    * （設定待ち）
* MODE Home ID
    * （設定待ち）

## アカウント作成

MODE – Make IoT a reality for your business
http://www.tinkermode.com/

![image.png (288.4 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/d580dce7-71e4-4cd3-9df7-ffe0a1bbda15.png)

こちらにアクセスします。

![image.png (523.6 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/08/30/8131/7686f0a2-777e-4f0f-a315-11b6b674e5cc.png)

![image.png (21.6 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/43343c8a-9fcd-41fb-a4c4-c18a0378a414.png)

最下部のフッターにあるDevelopersを押しましょう。

![image.png (95.7 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/c7d703af-a91f-4480-8418-79408f7faedf.png)

Developersページに遷移します。

![image.png (16.0 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/08/30/8131/90605df4-8d62-4f30-a112-e8241082dcdd.png)

右上のGO TO CONSOLEボタンを押します。

![image.png (28.5 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/247b7946-c0d8-4808-96a2-f6d4bb9dc507.png)

LOGINページに移動します。

![image.png (21.5 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/08/30/8131/b25d5aee-4e30-44f4-b56e-5072376b77ec.png)

Sign up!でユーザー登録をしましょう。

![image.png (76.3 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/08/30/8131/89d28fdc-05a1-4644-ac0d-69b082400014.png)

メールが届くのでアクティベーションしましょう。

## MODE Project ID Projectの作成

MyProjectページがトップページです。

![image.png (15.5 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/689f1e6a-3dd2-4f3a-a68b-ea3b86dc2cdb.png)

右上のNewボタンからプロジェクトを作成します。

![image.png (42.8 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/13b17477-b95a-4c2d-9459-6ca3cd260bc8.png)

User Accountsは「Your users will log in with their email addresses.」にします。

プロジェクト設定画面に移動するのでプロジェクトをわかりやすい名前で設定しましょう。

![image.png (30.9 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/537b2564-2c44-4590-94fe-23f0988e1aec.png)

作成すると、Project Dashboardに移動します。

![image.png (37.7 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/08/30/8131/df3322cf-4c30-4e5b-b2f0-6a28dceb7861.png)

Project IDをメモしておきましょう。

* Connection Name
    * 自由な名前
* MODE Project ID
    * 000
* MODE Project API Key
    * （設定待ち）
* MODE Home ID
    * （設定待ち）

## Project API Key

![image.png (14.8 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/aa97d3a9-a0b6-4525-bc03-2520e41d11ec.png)

つづいてSettingページに移動します。

![image.png (32.2 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/08/30/8131/c05a6939-5307-4e9e-aebb-007cf312b681.png)

API KEYSに移動して New ボタンを押してAPI Keyを作成します。

![image.png (6.2 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/e7351535-0228-4322-b43d-82f4d55d2f1a.png)

![image.png (33.2 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/713f5a81-f6ec-4898-b9bd-4cce310af778.png)

API KEYできました。

![image.png (14.4 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/844fe201-9a70-4941-ab77-ebacfd1bb921.png)

詳細をクリックして見に行きます。

![image.png (46.3 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/44137e02-8c1b-46dc-a3c7-cc223097a2e7.png)

v1ではじまるAPI KEYがあるのでこれをMODE Project API Keyとしてメモしておきます。

* Connection Name
    * 自由な名前
* MODE Project ID
    * 000
* MODE Project API Key
    * vi.XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
* MODE Home ID
    * （設定待ち）

## デバイス作成

HomeIDをつくるためにデバイスとAPPが必要です。まずデバイスを作成します。

![image.png (13.1 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/564e0c37-e98c-49e2-a7e2-cb563336fc97.png)

Deviceに移動します。

![image.png (42.3 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/08/30/8131/5559477d-e7a2-4b3b-b8c9-37d5bf7c11f1.png)

DEVICE CLASSESのところでNewを押します。

![image.png (46.7 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/08/30/8131/69664673-c806-44a3-8991-98a736514822.png)

適当な名前で作成します。

![image.png (49.1 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/882bccdf-2a02-46ce-8a24-eff7b0fb0a9a.png)

デバイスが出来たら、クリックしてデバイス詳細に移動します。

![image.png (7.0 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/d8662b5f-7d0d-4fdb-a9a8-d0a53cbdd8cd.png)

DIVICE LISTがまだ No Device Yet !なのでNewボタンを押して作成します。

![image.png (7.0 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/339fb41e-d25e-4a1f-a946-75684fdf4ad0.png)

TAGは適当でOKです。

![image.png (113.5 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/08/30/8131/2702cb97-066a-461e-81a0-e8df48bdb6e8.png)

デバイスの作成完了です。

## APPS作成

APPを作成します。

![image.png (14.4 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/d86782af-91d5-4009-b982-55c262ac4946.png)

Appページに移動します。

![image.png (8.5 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/5477383d-76b0-40a8-a3b8-8acb28f5f729.png)

Newボタンを押して新規作成します。

![image.png (82.1 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/08/30/8131/ee967cf6-817d-45d1-be96-ca2ff830cf75.png)

適当な名前で作成します。

![image.png (15.4 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/6d741ee5-3c45-4274-8f7f-b786acfa5c08.png)

## ユーザーの作成

![image.png (14.4 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/729947d5-7cf4-47c3-a6a4-2e334546b111.png)

ユーザーメニューに移動します。

![image.png (34.9 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/7e1199c2-2b63-45d5-a2c8-56d0e1569842.png)

まだ作成されていないので作成します。

### アプリシミュレーターでユーザーを登録する

![image.png (34.9 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/7f5f239a-8f95-4dc4-8080-69c7842b2938.png)

接続したいアプリをに移動します。

![image.png (21.1 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/08/30/8131/d72b7a0b-5f3e-49d7-8d63-1c2ea10fc6d8.png)

アプリシミュレーターを起動します。

![image.png (40.6 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/fe63147e-e1c7-42f9-b13c-8351179f934e.png)

アプリシミュレーター画面です。

![image.png (8.2 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/7e6bdb34-a1bd-43a0-a4ff-afeb73dbf61f.png)

アプリシミュレータで、アカウントも認証します。Register New Userをクリックします。

![image.png (28.8 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/1aef894e-6d3f-4645-b3bf-0b594bdb7ed8.png)

Sign Upページに移動するので、各項目を入力しましてRegister しましょう。

![image.png (29.2 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/492f72c9-30b1-463d-b933-34ded43c3b3d.png)

メールが送られるので認証しましょう。

![image.png (21.4 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/fb07c477-5c40-42ff-b540-240755a70550.png)

認証しました。

![image.png (29.2 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/58e14741-f1b0-49df-895e-4a78af28b983.png)

認証されたので、IM Verifiedを押します。

![image.png (66.2 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/5ae19084-6a3a-4a50-9172-2d9dc82d69c9.png)

これでユーザーの登録が完了です。

### ホーム画面の作成

![image.png (66.2 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/b09300bf-bbe6-496b-93bc-d2d76657b0e7.png)

まだホーム画面が作成されていないの作成します。

![image.png (4.8 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/dd93dccb-2a5f-4be7-977f-fd4389c71af5.png)

Newボタンを押します。

![image.png (18.1 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/d52fad10-3383-4220-97f0-e151043d7e72.png)

適当な名前をつけます。

![image.png (62.9 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/35461bcf-af6c-4e7f-86c3-f0e45d15664b.png)

ホーム画面の作成完了です。

### ホーム画面のデバイスの関連付け

![image.png (62.9 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/bf173fa1-8373-4b30-9412-fb8177f1f015.png)

上部のアラートを見ましょう

![image.png (18.6 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/4d0fe1ad-90d8-49ef-ac55-3d1003532f94.png)

hereをクリックします。右メニューのDevicesで移動してもOKです。

![image.png (45.8 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/89b2e730-a023-42e1-af7c-a72375f0f4c7.png)

Devices画面に移動します。

![image.png (4.8 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/1ffa14ab-c835-420b-b84e-3313228ee2d8.png)

Newボタンを押します。

![image.png (5.1 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/310f842e-36bf-4b17-8f4f-89c20bbc49eb.png)

Newボタンを押すとCLAIM CODEというコードが聞かれるのでそのままにします。

### デバイスシミュレータを起動する

CLAIM CODEはデバイスシミュレータで取得します。

デバイスシミュレータを起動します。

![image.png (14.9 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/3b7b5ff4-72a3-409b-b836-99d8683295f5.png)

デバイスページに移動します。

![image.png (17.1 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/f04ef126-8904-4f10-b54e-e2b53505da6f.png)

接続したいデバイスをクリックします。

![image.png (21.7 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/08/30/8131/5f62d404-7d08-42f2-8d12-9459db63c519.png)

デバイスシミュレータがあるのでボタンを押します。

![image.png (96.3 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/abeb0e87-679b-46ed-984b-ed2480d10353.png)

デバイスシミュレータが起動します。

![image.png (10.7 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/36d0c75a-f093-4a46-97dd-3f00844a72b1.png)

Claim Codeをメモします。

![image.png (42.0 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/951ccf21-eff5-4645-8bb8-db115eaecd8c.png)

CLAIM MODEボタンを押します。

![image.png (6.4 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/0d566492-a15b-49dc-90fc-5ba1775285c5.png)

カウントダウンが始まります。

![image.png (5.5 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/ac10a803-9d63-4c61-a337-447591f72561.png)

アプリシミュレーターに戻ってCodeを入力します。ADDを押します。

![image.png (17.5 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/cc7c70e3-bec9-437e-b6b0-4ab77ace137a.png)

登録されました。

![image.png (17.9 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/f13c32be-589f-4583-85fe-73f163b6a6c6.png)

ホーム画面の右メニューからSettings画面に移動します。

![image.png (14.2 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/6538ff16-47fa-43f0-80fb-459c9b4b4d13.png)

Home IDがあるのでメモします。

* Connection Name
    * 自由な名前
* MODE Project ID
    * 000
* MODE Project API Key
    * vi.XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
* MODE Home ID
    * 000

## 反映

![image.png (40.7 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/fc81dc5e-a343-452d-8a70-114e00c670ae.png)

enebularのDeploy画面に戻り反映します。

![image.png (24.9 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/8e41f9b7-c1b3-44d0-a5dd-503ef22b3b59.png)

反映後みてみましょう。connectedになったら成功です。

![image.png (13.6 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/c276fd9e-2a98-43e2-9edd-5e9a9c939fcd.png)

Deployを押すと反映されます。

![image.png (75.3 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/661c1c32-b798-4d87-b8b7-bc101e546ea5.png)

Devicesのログにも無事残りました。

### disconnectになっていたら

![image.png (22.1 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/aea75648-29de-4ecc-8f58-5b80801ef6ed.png)

disconnectになっていたら

![image.png (96.3 kB)](https://img.esa.io/uploads/production/attachments/3062/2017/09/03/8131/5509131f-dd7c-4245-98c6-34e68d90c98b.png)

デバイスシミュレーションをONにして接続状態にして再度選択し直して見てみましょう。

おつかれさまでした。

